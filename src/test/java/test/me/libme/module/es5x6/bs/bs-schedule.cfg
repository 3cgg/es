input {
    jdbc {
        id => "bs-schedule"
        add_field =>{
            "cppEventSource" => "bs-schedule"
        }
		jdbc_driver_library => "sqlserver-sqljdbc4-4.0.jar"
		jdbc_driver_class => "com.microsoft.sqlserver.jdbc.SQLServerDriver"
		jdbc_connection_string => "jdbc:sqlserver://pro.chuangxin360.com:8345;DatabaseName=pro_tech_service_market_sit_0925"
		jdbc_user => "sa"
		jdbc_password => "123@abcd"
		statement_filepath => "/work/data-import/bs/bs.sql"
		last_run_metadata_path => "/work/data-import/bs/bs-schedule.last.meta"
		schedule => "/1 * * * *"
		use_column_value => true
		tracking_column => "modifyDate"
		lowercase_column_names => false
    }
}
filter {

}
output {
    if [cppEventSource]=="bs-schedule" {
        stdout { codec => rubydebug }
        elasticsearch {
            hosts => [ "localhost:9200" ]
            user => "elastic"
            password => "changeme"
            index => "cpp-bs-index"
            document_type => "bs"
            document_id => "%{id}"
            action => "update"
            doc_as_upsert => true
        }

    }
}
